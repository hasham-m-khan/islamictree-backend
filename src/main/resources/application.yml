spring:
#  config:
#    import: classpath:database.yml
  profiles:
    active:
      - test

  r2dbc:
    url: r2dbc:mysql://localhost:3306/islamictree
    username: root
    password: admin

  flyway:
    enabled: true
    url: jdbc:mysql://localhost:3306/islamictree
    user: root
    password: admin
    locations: classpath:db/migration
    baseline-on-migrate: true
    placeholders:
      authorsFullTextIndexes: |
        CREATE FULLTEXT INDEX idx_authors_description  
          ON authors(description);
        CREATE FULLTEXT INDEX idx_authors_search_all  
          ON authors(first_name, last_name, description);
      articlesFullTextIndexes: |
        CREATE FULLTEXT INDEX ft_articles_content ON articles(content);
      usersEmailConstraint: CONSTRAINT chk_email_format CHECK (email REGEXP '^[A-Za-z0-9]([A-Za-z0-9._%-]*[A-Za-z0-9])?@[A-Za-z0-9]([A-Za-z0-9.-]*[A-Za-z0-9])?\\.[A-Za-z]{2,}$'),
